(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{186:function(e,t,n){var content=n(196);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(41).default)("34463994",content,!0,{sourceMap:!1})},187:function(e,t,n){var content=n(198);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(41).default)("615b665d",content,!0,{sourceMap:!1})},188:function(e,t,n){var content=n(200);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(41).default)("1b2a34c1",content,!0,{sourceMap:!1})},189:function(e,t,n){var content=n(202);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(41).default)("3c95578f",content,!0,{sourceMap:!1})},190:function(e,t,n){var content=n(204);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(41).default)("1b7833da",content,!0,{sourceMap:!1})},191:function(e,t,n){"use strict";n.r(t);var r={name:"Title",data:function(){return{title:"オンライン作業部屋"}}},o=(n(195),n(36)),component=Object(o.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"title"}},[t("h1",[this._v(this._s(this.title))])])}),[],!1,null,"ba3ad596",null);t.default=component.exports},192:function(e,t,n){"use strict";n.r(t);n(9),n(10),n(3);var r={name:"Time",data:function(){return{date:new Date}},computed:{year:function(){return this.date.getFullYear()},month:function(){return this.date.getMonth()+1},day:function(){return this.date.getDate()},hours:function(){return this.date.getHours()},minutes:function(){var e=this.date.getMinutes().toString();return 1===e.length&&(e="0".concat(e)),e},seconds:function(){return this.date.getSeconds()}},created:function(){setInterval(this.updateTime,1e3)},methods:{updateTime:function(){this.date=new Date}}},o=(n(197),n(36)),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"time"}},[n("p",[e._v(e._s(e.year)+"年 "+e._s(e.month)+"月 "+e._s(e.day)+"日")]),e._v(" "),n("p",{staticClass:"clock"},[e._v("\n    "+e._s(e.hours)+"："+e._s(e.minutes)+"\n  ")])])}),[],!1,null,"ccbccf9a",null);t.default=component.exports},193:function(e,t,n){"use strict";n.r(t);n(20),n(119),n(9),n(10),n(3),n(42);var r=n(6),o={name:"RoomInfo",data:function(){return{roomIdList:[],timeout1:null,timeout2:null,room_name:"　　",users:[],show:!0,switchRoomInterval:8e3}},created:function(){this.switchRoom()},destroyed:function(){clearTimeout(this.timeout1)},methods:{switchRoom:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=e).show=!1,t.next=4,n.retrieveRoomIdList();case 4:if(-1!==(r=n.roomIdList.indexOf(n.$store.state.roomId))){t.next=10;break}return t.next=8,n.$store.commit("setRoomId",n.roomIdList[0]);case 8:t.next=13;break;case 10:return o=(r+1)%e.roomIdList.length,t.next=13,n.$store.commit("setRoomId",n.roomIdList[o]);case 13:return t.next=15,n.fetchRoomInfo();case 15:n.timeout1=setTimeout((function(){n.switchRoom()}),n.switchRoomInterval),n.show=!0;case 17:case"end":return t.stop()}}),t)})))()},retrieveRoomIdList:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,r=new URL("https://io551valj4.execute-api.ap-northeast-1.amazonaws.com/rooms"),t.next=4,fetch(r.toString(),{method:"GET"}).then((function(e){return e.json()}));case 4:"ok"===(o=t.sent).result?(c=[],o.rooms.forEach((function(e){c.push(e.room_id)})),n.roomIdList=c):console.log(o.message);case 6:case"end":return t.stop()}}),t)})))()},fetchRoomInfo:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,m,d,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$store.state.roomId,(r=new URL("https://io551valj4.execute-api.ap-northeast-1.amazonaws.com/room_status")).search=new URLSearchParams({room_id:n}).toString(),t.next=6,fetch(r.toString(),{method:"GET"}).then((function(e){return e.json()}));case 6:if("ok"===(o=t.sent).result)if(e.room_name=o.room_status.room_body.name,c=o.room_status.room_body.users,m=o.users,c&&m)if(c.length===m.length){for(d=[],i=0;i<c.length;i++)d.push({userId:c[i],userName:m[i].display_name});e.users=d}else console.log("userIds.length !== users.length");else e.users=[];else console.log(o.message);case 8:case"end":return t.stop()}}),t)})))()}}},c=(n(199),n(36)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"roomInfo"}},[n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[n("div",{attrs:{id:"room-name"}},[n("h2",[e._v(e._s(e.room_name))])]),e._v(" "),n("h2",{attrs:{id:"room-category"}},[e._v("\n        ルーム\n      ")]),e._v(" "),n("div",[n("div",{attrs:{id:"studying-users-title"}},[n("p",[e._v("作業中のユーザー")])]),e._v(" "),n("div",{attrs:{id:"users"}},e._l(e.users,(function(t){return n("div",{key:t.userId,staticClass:"user"},[n("p",[n("i",{staticClass:"mdi mdi-account"})]),e._v(" "),n("p",{staticClass:"user-name"},[e._v("\n              "+e._s(t.userName)+"\n            ")])])})),0)])])])],1)}),[],!1,null,"2ecc8b0c",null);t.default=component.exports},194:function(e,t,n){"use strict";n.r(t);n(120),n(9),n(10),n(3),n(42);var r=n(6),o={name:"Message",data:function(){return{numOnlineUsers:0,numRooms:0,timeout:null}},created:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateNums();case 2:n=e,e.timeout=setInterval(n.updateNums,1e4);case 4:case"end":return t.stop()}}),t)})))()},methods:{updateNums:function(){this.updateNumRooms(),this.updateNumOnlineUsers()},updateNumRooms:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new URL("https://io551valj4.execute-api.ap-northeast-1.amazonaws.com/rooms"),t.next=3,fetch(n.toString(),{method:"GET"}).then((function(e){return e.json()}));case 3:"ok"===(r=t.sent).result?r.rooms?e.numRooms=Number(r.rooms.length):e.numRooms=0:console.log(r.message);case 5:case"end":return t.stop()}}),t)})))()},updateNumOnlineUsers:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new URL("https://io551valj4.execute-api.ap-northeast-1.amazonaws.com/online_users"),t.next=3,fetch(n.toString(),{method:"GET"}).then((function(e){return e.json()}));case 3:"ok"===(r=t.sent).result?r.online_users?e.numOnlineUsers=Number(r.online_users.length):e.numOnlineUsers=0:console.log(r.message);case 5:case"end":return t.stop()}}),t)})))()}}},c=(n(201),n(36)),component=Object(c.a)(o,(function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"message"}},[this._v("\n  現在、全 "+this._s(this.numRooms)+"ルームで "+this._s(this.numOnlineUsers)+"人が作業中\n")])}),[],!1,null,"f502853e",null);t.default=component.exports},195:function(e,t,n){"use strict";var r=n(186);n.n(r).a},196:function(e,t,n){(t=n(40)(!1)).push([e.i,"#title[data-v-ba3ad596]{padding-top:.5rem;width:1536px;font-size:1.3rem;color:#36479f}",""]),e.exports=t},197:function(e,t,n){"use strict";var r=n(187);n.n(r).a},198:function(e,t,n){(t=n(40)(!1)).push([e.i,"#time[data-v-ccbccf9a]{padding-top:.6rem;font-size:larger;background-color:#e2fcfc;width:384px;overflow:visible}.clock[data-v-ccbccf9a]{font-size:1.7rem;font-weight:700}",""]),e.exports=t},199:function(e,t,n){"use strict";var r=n(188);n.n(r).a},200:function(e,t,n){(t=n(40)(!1)).push([e.i,"h2[data-v-2ecc8b0c]{color:#36479f}#roomInfo[data-v-2ecc8b0c]{padding-top:.5rem;width:1920px;height:818px;overflow:auto}.fade-enter-active[data-v-2ecc8b0c]{transition:.3s}.fade-leave-active[data-v-2ecc8b0c]{transition:1.5s}.fade-enter[data-v-2ecc8b0c],.fade-leave-to[data-v-2ecc8b0c]{opacity:0}#room-name[data-v-2ecc8b0c]{padding:.3rem .6rem;border:.2rem solid #36479f;border-radius:1rem}#room-category[data-v-2ecc8b0c],#room-name[data-v-2ecc8b0c]{display:inline-block}#studying-users-title[data-v-2ecc8b0c]{text-align:left;margin-left:1rem;font-size:1.5rem}#users[data-v-2ecc8b0c]{display:flex;flex-direction:row;flex-wrap:wrap}.user[data-v-2ecc8b0c]{height:5rem;width:10rem;margin:1rem;overflow:hidden}.user i[data-v-2ecc8b0c]{font-size:2rem}.user .user-name[data-v-2ecc8b0c]{font-size:1.5rem}",""]),e.exports=t},201:function(e,t,n){"use strict";var r=n(189);n.n(r).a},202:function(e,t,n){(t=n(40)(!1)).push([e.i,"#message[data-v-f502853e]{font-size:2rem;background-color:#d9f5d9;width:1920px;height:100px}",""]),e.exports=t},203:function(e,t,n){"use strict";var r=n(190);n.n(r).a},204:function(e,t,n){(t=n(40)(!1)).push([e.i,'html{font-size:xx-large;width:1920px;height:1080px;overflow:auto}body,html{padding:0;margin:0}#header{height:160px}#header,#main{width:1920px;display:flex}#app{font-family:"Hannari",Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50}#footer,.block{width:1920px}',""]),e.exports=t},205:function(e,t,n){"use strict";n.r(t);n(9),n(10),n(3),n(42);var r=n(6),o=n(191),c=n(192),m=n(193),d=n(194),l={components:{Title:o.default,Time:c.default,RoomInfo:m.default,Message:d.default},data:function(){return{roomIdList:[],timeout:null}},created:function(){this.switchRoom();var e=this;setInterval((function(){e.switchRoom()}),6e3)},destroyed:function(){clearInterval(this.timeout)},methods:{switchRoom:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.retrieveRoomIdList();case 2:n=e,-1===(r=e.roomIdList.indexOf(n.$store.state.roomId))?e.$store.commit("setRoomId",n.roomIdList[0]):(o=(r+1)%e.roomIdList.length,e.$store.commit("setRoomId",n.roomIdList[o]));case 5:case"end":return t.stop()}}),t)})))()},retrieveRoomIdList:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,r=new URL("https://io551valj4.execute-api.ap-northeast-1.amazonaws.com/rooms"),t.next=4,fetch(r.toString(),{method:"GET"}).then((function(e){return e.json()}));case 4:"ok"===(o=t.sent).result?(n.roomIdList=[],o.rooms.forEach((function(e){n.roomIdList.push(e.room_id)}))):console.log(o.message);case 6:case"end":return t.stop()}}),t)})))()}}},f=(n(203),n(36)),component=Object(f.a)(l,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"block"},[t("div",{attrs:{id:"header"}},[t("Title"),this._v(" "),t("Time")],1),this._v(" "),t("div",{attrs:{id:"main"}},[t("RoomInfo")],1),this._v(" "),t("div",{attrs:{id:"footer"}},[t("Message",{attrs:{message:""}})],1)])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Title:n(191).default,Time:n(192).default,RoomInfo:n(193).default,Message:n(194).default})}}]);