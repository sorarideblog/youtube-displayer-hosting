(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{192:function(e,t,r){var content=r(202);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(46).default)("1a168e86",content,!0,{sourceMap:!1})},193:function(e,t,r){var content=r(204);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(46).default)("0acf1b78",content,!0,{sourceMap:!1})},194:function(e,t,r){var content=r(206);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(46).default)("e4c29260",content,!0,{sourceMap:!1})},195:function(e,t,r){var content=r(208);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(46).default)("96dec3f4",content,!0,{sourceMap:!1})},196:function(e,t,r){var content=r(210);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(46).default)("1b7833da",content,!0,{sourceMap:!1})},197:function(e,t,r){"use strict";r.r(t);var n={name:"Title",data:function(){return{title:"オンライン作業部屋"}}},o=(r(201),r(41)),component=Object(o.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"title"}},[t("h1",[this._v(this._s(this.title))])])}),[],!1,null,"607dcc8e",null);t.default=component.exports},198:function(e,t,r){"use strict";r.r(t);r(12),r(13),r(4);var n={name:"Time",data:function(){return{date:new Date}},computed:{year:function(){return this.date.getFullYear()},month:function(){return this.date.getMonth()+1},day:function(){return this.date.getDate()},hours:function(){return this.date.getHours()},minutes:function(){var e=this.date.getMinutes().toString();return 1===e.length&&(e="0"+e),e},seconds:function(){return this.date.getSeconds()}},created:function(){setInterval(this.updateTime,1e3)},methods:{updateTime:function(){this.date=new Date}}},o=(r(203),r(41)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"time"}},[r("p",[e._v(e._s(e.year)+"年 "+e._s(e.month)+"月 "+e._s(e.day)+"日")]),e._v(" "),r("p",{staticClass:"clock"},[e._v(e._s(e.hours)+"："+e._s(e.minutes))])])}),[],!1,null,"b512ebac",null);t.default=component.exports},199:function(e,t,r){"use strict";r.r(t);r(25),r(125),r(12),r(13),r(4),r(47);var n=r(8),o={name:"RoomInfo",data:function(){return{roomIdList:[],timeout1:null,timeout2:null,room_name:"　　",users:[],show:!0}},created:function(){this.switchRoom();var e=this;this.timeout1=setInterval((function(){e.switchRoom()}),12e3),this.intervalCheckPoint=new Date;this.timeout2=setInterval((function(){e.fetchRoomInfo()}),3e3)},destroyed:function(){clearInterval(this.timeout1),clearInterval(this.timeout2)},methods:{switchRoom:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.show=!1,t.next=3,e.retrieveRoomIdList();case 3:if(r=e,-1!==(n=e.roomIdList.indexOf(r.$store.state.roomId))){t.next=10;break}return t.next=8,e.$store.commit("setRoomId",r.roomIdList[0]);case 8:t.next=13;break;case 10:return o=(n+1)%e.roomIdList.length,t.next=13,e.$store.commit("setRoomId",r.roomIdList[o]);case 13:return t.next=15,e.fetchRoomInfo();case 15:e.show=!0;case 16:case"end":return t.stop()}}),t)})))()},retrieveRoomIdList:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,n=new URL("https://io551valj4.execute-api.ap-northeast-1.amazonaws.com/rooms"),t.next=4,fetch(n.toString(),{method:"GET"}).then((function(e){return e.json()}));case 4:"ok"===(o=t.sent).result?(c=[],o.rooms.forEach((function(e){c.push(e.room_id)})),r.roomIdList=c):console.log(o.message);case 6:case"end":return t.stop()}}),t)})))()},fetchRoomInfo:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,c,m,d,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$store.state.roomId,(n=new URL("https://io551valj4.execute-api.ap-northeast-1.amazonaws.com/room_status")).search=new URLSearchParams({room_id:r}).toString(),t.next=5,fetch(n.toString(),{method:"GET"}).then((function(e){return e.json()}));case 5:if("ok"===(o=t.sent).result)if(e.room_name=o.room_status.room_body.name,c=o.room_status.room_body.users,m=o.user_names,c&&m){if(c.length===m.length){for(d=[],i=0;i<c.length;i++)d.push({userId:c[i],userName:m[i]});e.users=d}}else e.users=[];else console.log(o.message);case 7:case"end":return t.stop()}}),t)})))()}}},c=(r(205),r(41)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"roomInfo"}},[r("transition",{attrs:{name:"fade"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[r("div",{attrs:{id:"room-name"}},[r("h2",[e._v(e._s(e.room_name))])]),e._v(" "),r("h2",{attrs:{id:"room-category"}},[e._v("カテゴリ")]),e._v(" "),r("div",[r("div",{attrs:{id:"studying-users-title"}},[r("p",[e._v("作業中のユーザー")])]),e._v(" "),r("div",{attrs:{id:"users"}},e._l(e.users,(function(t){return r("div",{key:t.userId,staticClass:"user"},[r("p",[r("i",{staticClass:"mdi mdi-account"})]),e._v(" "),r("p",{staticClass:"user-name"},[e._v(e._s(t.userName))])])})),0)])])])],1)}),[],!1,null,"b550bef4",null);t.default=component.exports},200:function(e,t,r){"use strict";r.r(t);r(126),r(12),r(13),r(4),r(47);var n=r(8),o={name:"Message",data:function(){return{numOnlineUsers:0,numRooms:0,timeout:null}},created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateNums();case 2:r=e,e.timeout=setInterval(r.updateNums,1e4);case 4:case"end":return t.stop()}}),t)})))()},methods:{updateNums:function(){this.updateNumRooms(),this.updateNumOnlineUsers()},updateNumRooms:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new URL("https://io551valj4.execute-api.ap-northeast-1.amazonaws.com/rooms"),t.next=3,fetch(r.toString(),{method:"GET"}).then((function(e){return e.json()}));case 3:"ok"===(n=t.sent).result?n.rooms?e.numRooms=Number(n.rooms.length):e.numRooms=0:console.log(n.message);case 5:case"end":return t.stop()}}),t)})))()},updateNumOnlineUsers:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new URL("https://io551valj4.execute-api.ap-northeast-1.amazonaws.com/online_users"),t.next=3,fetch(r.toString(),{method:"GET"}).then((function(e){return e.json()}));case 3:"ok"===(n=t.sent).result?n.online_users?e.numOnlineUsers=Number(n.online_users.length):e.numOnlineUsers=0:console.log(n.message);case 5:case"end":return t.stop()}}),t)})))()}}},c=(r(207),r(41)),component=Object(c.a)(o,(function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"message"}},[this._v("\n  現在、全 "+this._s(this.numRooms)+"カテゴリで "+this._s(this.numOnlineUsers)+"人が作業中\n")])}),[],!1,null,"9dd5ddc0",null);t.default=component.exports},201:function(e,t,r){"use strict";var n=r(192);r.n(n).a},202:function(e,t,r){(t=r(45)(!1)).push([e.i,"#title[data-v-607dcc8e]{padding-top:.5rem;background-color:#e2fcfc;width:1536px;font-size:1.3rem}",""]),e.exports=t},203:function(e,t,r){"use strict";var n=r(193);r.n(n).a},204:function(e,t,r){(t=r(45)(!1)).push([e.i,"#time[data-v-b512ebac]{padding-top:.6rem;font-size:larger;background-color:#e2fcfc;width:384px;overflow:visible}.clock[data-v-b512ebac]{font-size:1.7rem;font-weight:700}",""]),e.exports=t},205:function(e,t,r){"use strict";var n=r(194);r.n(n).a},206:function(e,t,r){(t=r(45)(!1)).push([e.i,"#roomInfo[data-v-b550bef4]{padding-top:.5rem;background-color:#fcfcf2;width:1920px;height:818px;overflow:auto}.fade-enter-active[data-v-b550bef4]{transition:.3s}.fade-leave-active[data-v-b550bef4]{transition:1.5s}.fade-enter[data-v-b550bef4],.fade-leave-to[data-v-b550bef4]{opacity:0}#room-name[data-v-b550bef4]{padding:.3rem .6rem;border:.2rem solid #000;border-radius:1rem}#room-category[data-v-b550bef4],#room-name[data-v-b550bef4]{display:inline-block}#studying-users-title[data-v-b550bef4]{text-align:left;margin-left:1rem;font-size:1.5rem}#users[data-v-b550bef4]{display:flex;flex-direction:row;flex-wrap:wrap}.user[data-v-b550bef4]{height:5rem;width:10rem;margin:1rem;overflow:hidden}.user i[data-v-b550bef4]{font-size:2rem}.user .user-name[data-v-b550bef4]{font-size:1.5rem}",""]),e.exports=t},207:function(e,t,r){"use strict";var n=r(195);r.n(n).a},208:function(e,t,r){(t=r(45)(!1)).push([e.i,"#message[data-v-9dd5ddc0]{font-size:2rem;background-color:#d9f5d9;width:1920px;height:100px}",""]),e.exports=t},209:function(e,t,r){"use strict";var n=r(196);r.n(n).a},210:function(e,t,r){(t=r(45)(!1)).push([e.i,'html{font-size:xx-large;width:1920px;height:1080px;overflow:auto}body,html{padding:0;margin:0}#header{height:160px}#header,#main{width:1920px;display:flex}#app{font-family:"Hannari",Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50}#footer,.block{width:1920px}',""]),e.exports=t},211:function(e,t,r){"use strict";r.r(t);r(12),r(13),r(4),r(47);var n=r(8),o=r(197),c=r(198),m=r(199),d=r(200),f={components:{Title:o.default,Time:c.default,RoomInfo:m.default,Message:d.default},data:function(){return{roomIdList:[],timeout:null}},created:function(){this.switchRoom();var e=this;setInterval((function(){e.switchRoom()}),6e3)},destroyed:function(){clearInterval(this.timeout)},methods:{switchRoom:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.retrieveRoomIdList();case 2:r=e,-1===(n=e.roomIdList.indexOf(r.$store.state.roomId))?e.$store.commit("setRoomId",r.roomIdList[0]):(o=(n+1)%e.roomIdList.length,e.$store.commit("setRoomId",r.roomIdList[o]));case 5:case"end":return t.stop()}}),t)})))()},retrieveRoomIdList:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,n=new URL("https://io551valj4.execute-api.ap-northeast-1.amazonaws.com/rooms"),t.next=4,fetch(n.toString(),{method:"GET"}).then((function(e){return e.json()}));case 4:"ok"===(o=t.sent).result?(r.roomIdList=[],o.rooms.forEach((function(e){r.roomIdList.push(e.room_id)}))):console.log(o.message);case 6:case"end":return t.stop()}}),t)})))()}}},l=(r(209),r(41)),component=Object(l.a)(f,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"block"},[t("div",{attrs:{id:"header"}},[t("Title"),this._v(" "),t("Time")],1),this._v(" "),t("div",{attrs:{id:"main"}},[t("RoomInfo")],1),this._v(" "),t("div",{attrs:{id:"footer"}},[t("Message",{attrs:{message:""}})],1)])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Title:r(197).default,Time:r(198).default,RoomInfo:r(199).default,Message:r(200).default})}}]);