(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{186:function(t,e,n){var content=n(196);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(41).default)("34463994",content,!0,{sourceMap:!1})},187:function(t,e,n){var content=n(198);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(41).default)("615b665d",content,!0,{sourceMap:!1})},188:function(t,e,n){var content=n(200);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(41).default)("47fef2db",content,!0,{sourceMap:!1})},189:function(t,e,n){var content=n(202);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(41).default)("3c95578f",content,!0,{sourceMap:!1})},190:function(t,e,n){var content=n(204);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(41).default)("1b7833da",content,!0,{sourceMap:!1})},191:function(t,e,n){"use strict";n.r(e);var r={name:"Title",data:function(){return{title:"オンライン作業部屋"}}},o=(n(195),n(36)),component=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"title"}},[e("h1",[this._v(this._s(this.title))])])}),[],!1,null,"ba3ad596",null);e.default=component.exports},192:function(t,e,n){"use strict";n.r(e);n(9),n(10),n(3);var r={name:"Time",data:function(){return{date:new Date}},computed:{year:function(){return this.date.getFullYear()},month:function(){return this.date.getMonth()+1},day:function(){return this.date.getDate()},hours:function(){return this.date.getHours()},minutes:function(){var t=this.date.getMinutes().toString();return 1===t.length&&(t="0".concat(t)),t},seconds:function(){return this.date.getSeconds()}},created:function(){setInterval(this.updateTime,1e3)},methods:{updateTime:function(){this.date=new Date}}},o=(n(197),n(36)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"time"}},[n("p",[t._v(t._s(t.year)+"年 "+t._s(t.month)+"月 "+t._s(t.day)+"日")]),t._v(" "),n("p",{staticClass:"clock"},[t._v("\n    "+t._s(t.hours)+"："+t._s(t.minutes)+"\n  ")])])}),[],!1,null,"ccbccf9a",null);e.default=component.exports},193:function(t,e,n){"use strict";n.r(e);n(20),n(119),n(9),n(10),n(3),n(42);var r=n(6),o={name:"RoomInfo",data:function(){return{roomIdList:[],timeout1:null,timeout2:null,room_name:"　　",users:[],show:!0,switchRoomInterval:12e3}},created:function(){this.switchRoom()},destroyed:function(){clearTimeout(this.timeout1)},methods:{switchRoom:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t).show=!1,e.next=4,n.retrieveRoomIdList();case 4:if(-1!==(r=n.roomIdList.indexOf(n.$store.state.roomId))){e.next=10;break}return e.next=8,n.$store.commit("setRoomId",n.roomIdList[0]);case 8:e.next=13;break;case 10:return o=(r+1)%t.roomIdList.length,e.next=13,n.$store.commit("setRoomId",n.roomIdList[o]);case 13:return e.next=15,n.fetchRoomInfo();case 15:n.timeout1=setTimeout((function(){n.switchRoom()}),n.switchRoomInterval),n.show=!0;case 17:case"end":return e.stop()}}),e)})))()},retrieveRoomIdList:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,r=new URL("https://io551valj4.execute-api.ap-northeast-1.amazonaws.com/rooms"),e.next=4,fetch(r.toString(),{method:"GET"}).then((function(t){return t.json()}));case 4:"ok"===(o=e.sent).result?(c=[],o.rooms.forEach((function(t){c.push(t.room_id)})),n.roomIdList=c):console.log(o.message);case 6:case"end":return e.stop()}}),e)})))()},fetchRoomInfo:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,m,f,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$store.state.roomId,(r=new URL("https://io551valj4.execute-api.ap-northeast-1.amazonaws.com/room_status")).search=new URLSearchParams({room_id:n}).toString(),e.next=6,fetch(r.toString(),{method:"GET"}).then((function(t){return t.json()}));case 6:if("ok"===(o=e.sent).result)if(t.room_name=o.room_status.room_body.name,c=o.room_status.room_body.users,m=o.users,c&&m)if(c.length===m.length){for(f=[],i=0;i<c.length;i++)f.push({userId:c[i],userName:m[i].display_name});t.users=f}else console.log("userIds.length !== users.length");else t.users=[];else console.log(o.message);case 8:case"end":return e.stop()}}),e)})))()}}},c=(n(199),n(36)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"roomInfo"}},[n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[n("div",{attrs:{id:"room-name"}},[n("h2",[t._v(t._s(t.room_name))])]),t._v(" "),n("h2",{attrs:{id:"room-category"}},[t._v("\n        ルーム\n      ")]),t._v(" "),n("div",[n("div",{attrs:{id:"studying-users-title"}},[n("p",[t._v("作業中のユーザー")])]),t._v(" "),n("div",{attrs:{id:"users"}},t._l(t.users,(function(e){return n("div",{key:e.userId,staticClass:"user"},[n("p",[n("i",{staticClass:"mdi mdi-account"})]),t._v(" "),n("p",{staticClass:"user-name"},[t._v("\n              "+t._s(e.userName)+"\n            ")])])})),0)])])])],1)}),[],!1,null,"2f2501f8",null);e.default=component.exports},194:function(t,e,n){"use strict";n.r(e);n(120),n(9),n(10),n(3),n(42);var r=n(6),o={name:"Message",data:function(){return{numOnlineUsers:0,numRooms:0,timeout:null}},created:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.updateNums();case 2:n=t,t.timeout=setInterval(n.updateNums,1e4);case 4:case"end":return e.stop()}}),e)})))()},methods:{updateNums:function(){this.updateNumRooms(),this.updateNumOnlineUsers()},updateNumRooms:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL("https://io551valj4.execute-api.ap-northeast-1.amazonaws.com/rooms"),e.next=3,fetch(n.toString(),{method:"GET"}).then((function(t){return t.json()}));case 3:"ok"===(r=e.sent).result?r.rooms?t.numRooms=Number(r.rooms.length):t.numRooms=0:console.log(r.message);case 5:case"end":return e.stop()}}),e)})))()},updateNumOnlineUsers:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL("https://io551valj4.execute-api.ap-northeast-1.amazonaws.com/online_users"),e.next=3,fetch(n.toString(),{method:"GET"}).then((function(t){return t.json()}));case 3:"ok"===(r=e.sent).result?r.online_users?t.numOnlineUsers=Number(r.online_users.length):t.numOnlineUsers=0:console.log(r.message);case 5:case"end":return e.stop()}}),e)})))()}}},c=(n(201),n(36)),component=Object(c.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"message"}},[this._v("\n  現在、全 "+this._s(this.numRooms)+"ルームで "+this._s(this.numOnlineUsers)+"人が作業中\n")])}),[],!1,null,"f502853e",null);e.default=component.exports},195:function(t,e,n){"use strict";var r=n(186);n.n(r).a},196:function(t,e,n){(e=n(40)(!1)).push([t.i,"#title[data-v-ba3ad596]{padding-top:.5rem;width:1536px;font-size:1.3rem;color:#36479f}",""]),t.exports=e},197:function(t,e,n){"use strict";var r=n(187);n.n(r).a},198:function(t,e,n){(e=n(40)(!1)).push([t.i,"#time[data-v-ccbccf9a]{padding-top:.6rem;font-size:larger;background-color:#e2fcfc;width:384px;overflow:visible}.clock[data-v-ccbccf9a]{font-size:1.7rem;font-weight:700}",""]),t.exports=e},199:function(t,e,n){"use strict";var r=n(188);n.n(r).a},200:function(t,e,n){(e=n(40)(!1)).push([t.i,"h2[data-v-2f2501f8]{color:#36479f}#roomInfo[data-v-2f2501f8]{padding-top:.5rem;width:1920px;height:818px;overflow:auto}.fade-enter-active[data-v-2f2501f8]{transition:.3s}.fade-leave-active[data-v-2f2501f8]{transition:1.5s}.fade-enter[data-v-2f2501f8],.fade-leave-to[data-v-2f2501f8]{opacity:0}#room-name[data-v-2f2501f8]{padding:.3rem .6rem;border:.2rem solid #36479f;border-radius:1rem}#room-category[data-v-2f2501f8],#room-name[data-v-2f2501f8]{display:inline-block}#studying-users-title[data-v-2f2501f8]{text-align:left;margin-left:1rem;font-size:1.5rem}#users[data-v-2f2501f8]{display:flex;flex-direction:row;flex-wrap:wrap}.user[data-v-2f2501f8]{height:5rem;width:10rem;margin:1rem;overflow:hidden}.user i[data-v-2f2501f8]{font-size:2rem}.user .user-name[data-v-2f2501f8]{font-size:1.5rem}",""]),t.exports=e},201:function(t,e,n){"use strict";var r=n(189);n.n(r).a},202:function(t,e,n){(e=n(40)(!1)).push([t.i,"#message[data-v-f502853e]{font-size:2rem;background-color:#d9f5d9;width:1920px;height:100px}",""]),t.exports=e},203:function(t,e,n){"use strict";var r=n(190);n.n(r).a},204:function(t,e,n){(e=n(40)(!1)).push([t.i,'html{font-size:xx-large;width:1920px;height:1080px;overflow:auto}body,html{padding:0;margin:0}#header{height:160px}#header,#main{width:1920px;display:flex}#app{font-family:"Hannari",Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50}#footer,.block{width:1920px}',""]),t.exports=e},205:function(t,e,n){"use strict";n.r(e);n(9),n(10),n(3),n(42);var r=n(6),o=n(191),c=n(192),m=n(193),f=n(194),d={components:{Title:o.default,Time:c.default,RoomInfo:m.default,Message:f.default},data:function(){return{roomIdList:[],timeout:null}},created:function(){this.switchRoom();var t=this;setInterval((function(){t.switchRoom()}),6e3)},destroyed:function(){clearInterval(this.timeout)},methods:{switchRoom:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.retrieveRoomIdList();case 2:n=t,-1===(r=t.roomIdList.indexOf(n.$store.state.roomId))?t.$store.commit("setRoomId",n.roomIdList[0]):(o=(r+1)%t.roomIdList.length,t.$store.commit("setRoomId",n.roomIdList[o]));case 5:case"end":return e.stop()}}),e)})))()},retrieveRoomIdList:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,r=new URL("https://io551valj4.execute-api.ap-northeast-1.amazonaws.com/rooms"),e.next=4,fetch(r.toString(),{method:"GET"}).then((function(t){return t.json()}));case 4:"ok"===(o=e.sent).result?(n.roomIdList=[],o.rooms.forEach((function(t){n.roomIdList.push(t.room_id)}))):console.log(o.message);case 6:case"end":return e.stop()}}),e)})))()}}},l=(n(203),n(36)),component=Object(l.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"block"},[e("div",{attrs:{id:"header"}},[e("Title"),this._v(" "),e("Time")],1),this._v(" "),e("div",{attrs:{id:"main"}},[e("RoomInfo")],1),this._v(" "),e("div",{attrs:{id:"footer"}},[e("Message",{attrs:{message:""}})],1)])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Title:n(191).default,Time:n(192).default,RoomInfo:n(193).default,Message:n(194).default})}}]);