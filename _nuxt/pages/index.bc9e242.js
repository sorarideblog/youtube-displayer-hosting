(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{192:function(t,e,n){var content=n(202);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(46).default)("1a168e86",content,!0,{sourceMap:!1})},193:function(t,e,n){var content=n(204);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(46).default)("0acf1b78",content,!0,{sourceMap:!1})},194:function(t,e,n){var content=n(206);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(46).default)("07e70814",content,!0,{sourceMap:!1})},195:function(t,e,n){var content=n(208);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(46).default)("4d584a93",content,!0,{sourceMap:!1})},196:function(t,e,n){var content=n(210);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(46).default)("1b7833da",content,!0,{sourceMap:!1})},197:function(t,e,n){"use strict";n.r(e);var r={name:"Title",data:function(){return{title:"オンライン作業部屋"}}},o=(n(201),n(41)),component=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"title"}},[e("h1",[this._v(this._s(this.title))])])}),[],!1,null,"607dcc8e",null);e.default=component.exports},198:function(t,e,n){"use strict";n.r(e);n(12),n(13),n(4);var r={name:"Time",data:function(){return{date:new Date}},computed:{year:function(){return this.date.getFullYear()},month:function(){return this.date.getMonth()+1},day:function(){return this.date.getDate()},hours:function(){return this.date.getHours()},minutes:function(){var t=this.date.getMinutes().toString();return 1===t.length&&(t="0"+t),t},seconds:function(){return this.date.getSeconds()}},created:function(){setInterval(this.updateTime,1e3)},methods:{updateTime:function(){this.date=new Date}}},o=(n(203),n(41)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"time"}},[n("p",[t._v(t._s(t.year)+"年 "+t._s(t.month)+"月 "+t._s(t.day)+"日")]),t._v(" "),n("p",{staticClass:"clock"},[t._v(t._s(t.hours)+"："+t._s(t.minutes))])])}),[],!1,null,"b512ebac",null);e.default=component.exports},199:function(t,e,n){"use strict";n.r(e);n(25),n(125),n(12),n(13),n(4),n(47);var r=n(8),o={name:"RoomInfo",data:function(){return{roomIdList:[],timeout1:null,timeout2:null,room_name:"　　",users:[],show:!0}},created:function(){this.switchRoom();var t=this;this.timeout1=setInterval((function(){t.switchRoom()}),12e3),this.intervalCheckPoint=new Date;this.timeout2=setInterval((function(){t.fetchRoomInfo()}),3e3)},destroyed:function(){clearInterval(this.timeout1),clearInterval(this.timeout2)},methods:{switchRoom:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.show=!1,e.next=3,t.retrieveRoomIdList();case 3:if(n=t,-1!==(r=t.roomIdList.indexOf(n.$store.state.roomId))){e.next=10;break}return e.next=8,t.$store.commit("setRoomId",n.roomIdList[0]);case 8:e.next=13;break;case 10:return o=(r+1)%t.roomIdList.length,e.next=13,t.$store.commit("setRoomId",n.roomIdList[o]);case 13:return e.next=15,t.fetchRoomInfo();case 15:t.show=!0;case 16:case"end":return e.stop()}}),e)})))()},retrieveRoomIdList:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,r=new URL("https://us-central1-online-study-room-f1f30.cloudfunctions.net/Rooms"),e.next=4,fetch(r.toString(),{method:"GET"}).then((function(t){return t.json()}));case 4:"ok"===(o=e.sent).result?(c=[],o.rooms.forEach((function(t){c.push(t.room_id)})),n.roomIdList=c):console.log(o.message);case 6:case"end":return e.stop()}}),e)})))()},fetchRoomInfo:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,d,l,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$store.state.roomId,(r=new URL("https://us-central1-online-study-room-f1f30.cloudfunctions.net/RoomStatus")).search=new URLSearchParams({room_id:n}).toString(),e.next=5,fetch(r.toString(),{method:"GET"}).then((function(t){return t.json()}));case 5:if("ok"===(o=e.sent).result)if(t.room_name=o.room_status.room_body.name,c=o.room_status.room_body.users,d=o.user_names,c&&d){if(c.length===d.length){for(l=[],i=0;i<c.length;i++)l.push({userId:c[i],userName:d[i]});t.users=l}}else t.users=[];else console.log(o.message);case 7:case"end":return e.stop()}}),e)})))()}}},c=(n(205),n(41)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"roomInfo"}},[n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[n("div",{attrs:{id:"room-name"}},[n("h2",[t._v(t._s(t.room_name))])]),t._v(" "),n("h2",{attrs:{id:"room-category"}},[t._v("カテゴリ")]),t._v(" "),n("div",[n("div",{attrs:{id:"studying-users-title"}},[n("p",[t._v("作業中のユーザー")])]),t._v(" "),n("div",{attrs:{id:"users"}},t._l(t.users,(function(e){return n("div",{key:e.userId,staticClass:"user"},[n("p",[n("i",{staticClass:"mdi mdi-account"})]),t._v(" "),n("p",{staticClass:"user-name"},[t._v(t._s(e.userName))])])})),0)])])])],1)}),[],!1,null,"b0aba106",null);e.default=component.exports},200:function(t,e,n){"use strict";n.r(e);n(126),n(12),n(13),n(4),n(47);var r=n(8),o={name:"Message",data:function(){return{numOnlineUsers:0,numRooms:0,timeout:null}},created:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.updateNums();case 2:n=t,t.timeout=setInterval(n.updateNums,1e4);case 4:case"end":return e.stop()}}),e)})))()},methods:{updateNums:function(){this.updateNumRooms(),this.updateNumOnlineUsers()},updateNumRooms:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL("https://us-central1-online-study-room-f1f30.cloudfunctions.net/Rooms"),e.next=3,fetch(n.toString(),{method:"GET"}).then((function(t){return t.json()}));case 3:"ok"===(r=e.sent).result?r.rooms?t.numRooms=Number(r.rooms.length):t.numRooms=0:console.log(r.message);case 5:case"end":return e.stop()}}),e)})))()},updateNumOnlineUsers:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL("https://us-central1-online-study-room-f1f30.cloudfunctions.net/OnlineUsers"),e.next=3,fetch(n.toString(),{method:"GET"}).then((function(t){return t.json()}));case 3:"ok"===(r=e.sent).result?r.online_users?t.numOnlineUsers=Number(r.online_users.length):t.numOnlineUsers=0:console.log(r.message);case 5:case"end":return e.stop()}}),e)})))()}}},c=(n(207),n(41)),component=Object(c.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"message"}},[this._v("\n  現在、全 "+this._s(this.numRooms)+"カテゴリで "+this._s(this.numOnlineUsers)+"人が作業中\n")])}),[],!1,null,"7e3d2c9e",null);e.default=component.exports},201:function(t,e,n){"use strict";var r=n(192);n.n(r).a},202:function(t,e,n){(e=n(45)(!1)).push([t.i,"#title[data-v-607dcc8e]{padding-top:.5rem;background-color:#e2fcfc;width:1536px;font-size:1.3rem}",""]),t.exports=e},203:function(t,e,n){"use strict";var r=n(193);n.n(r).a},204:function(t,e,n){(e=n(45)(!1)).push([t.i,"#time[data-v-b512ebac]{padding-top:.6rem;font-size:larger;background-color:#e2fcfc;width:384px;overflow:visible}.clock[data-v-b512ebac]{font-size:1.7rem;font-weight:700}",""]),t.exports=e},205:function(t,e,n){"use strict";var r=n(194);n.n(r).a},206:function(t,e,n){(e=n(45)(!1)).push([t.i,"#roomInfo[data-v-b0aba106]{padding-top:.5rem;background-color:#fcfcf2;width:1920px;height:818px;overflow:auto}.fade-enter-active[data-v-b0aba106]{transition:.3s}.fade-leave-active[data-v-b0aba106]{transition:1.5s}.fade-enter[data-v-b0aba106],.fade-leave-to[data-v-b0aba106]{opacity:0}#room-name[data-v-b0aba106]{padding:.3rem .6rem;border:.2rem solid #000;border-radius:1rem}#room-category[data-v-b0aba106],#room-name[data-v-b0aba106]{display:inline-block}#studying-users-title[data-v-b0aba106]{text-align:left;margin-left:1rem;font-size:1.5rem}#users[data-v-b0aba106]{display:flex;flex-direction:row;flex-wrap:wrap}.user[data-v-b0aba106]{height:5rem;width:10rem;margin:1rem;overflow:hidden}.user i[data-v-b0aba106]{font-size:2rem}.user .user-name[data-v-b0aba106]{font-size:1.5rem}",""]),t.exports=e},207:function(t,e,n){"use strict";var r=n(195);n.n(r).a},208:function(t,e,n){(e=n(45)(!1)).push([t.i,"#message[data-v-7e3d2c9e]{font-size:2rem;background-color:#d9f5d9;width:1920px;height:100px}",""]),t.exports=e},209:function(t,e,n){"use strict";var r=n(196);n.n(r).a},210:function(t,e,n){(e=n(45)(!1)).push([t.i,'html{font-size:2rem;width:1920px;height:1080px;overflow:auto}body,html{padding:0;margin:0}#header{height:160px}#header,#main{width:1920px;display:flex}#app{font-family:"Hannari",Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50}#footer,.block{width:1920px}',""]),t.exports=e},211:function(t,e,n){"use strict";n.r(e);var r=n(197),o=n(198),c=n(199),d=n(200),l={components:{Title:r.default,Time:o.default,RoomInfo:c.default,Message:d.default},data:function(){return{}},created:function(){},destroyed:function(){},methods:{}},m=(n(209),n(41)),component=Object(m.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"block"},[e("div",{attrs:{id:"header"}},[e("Title"),this._v(" "),e("Time")],1),this._v(" "),e("div",{attrs:{id:"main"}},[e("RoomInfo")],1),this._v(" "),e("div",{attrs:{id:"footer"}},[e("Message")],1)])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Title:n(197).default,Time:n(198).default,RoomInfo:n(199).default,Message:n(200).default})}}]);